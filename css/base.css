:root,
html[data-theme="light"] {
  /* Light theme colors */
  --outer-space-bg: linear-gradient(180deg, #001 0%, #1a1a2e 60%, #2a3a5e 85%, #4a5f7a 100%);
  --atmosphere-bg: linear-gradient(
    180deg,
    rgba(74, 95, 122, 0) 0%,
    #4a5f7a 10%,
    #87ceeb 40%,
    #b8d4f0 80%,
    #c8e6ff 100%
  );
  --ocean-top-color: #4682b4; /* Steel blue - matches SVG ocean color */
  --ocean-bg: linear-gradient(180deg, var(--ocean-top-color) 0%, #191970 100%);
  --crust-top-color: #8b4513; /* Saddle brown - matches bathymetry SVG */
  --crust-bg: linear-gradient(180deg, var(--crust-top-color) 0%, #704214 50%, #5c4033 100%);
  --content-bg: rgba(255, 255, 255, 0.9);
  --content-text: #333;
  --content-subtext: #666;
  --nav-dot: rgba(255, 255, 255, 0.5);
  --nav-dot-active: white;
  --cloud-color: white;
  --star-color-1: #eee;
  --star-color-2: #fff;
  --star-color-3: #ddd;
  --body-bg: #fff;

  /* Layer overlap distances - use dvh (dynamic viewport height) for better mobile support */
  --space-overlap: 20dvh;
  --atmosphere-overlap: 15dvh;

  /* Z-index system for layer stacking */
  --z-comets: 0;
  --z-meteors: 0;
  --z-stars: 10;
  --z-celestial: 10;
  --z-video-sphere: 15;
  --z-video-controls: 16;
  --z-cirrus-clouds: 21;
  --z-alto-clouds: 22;
  --z-cumulus-clouds: 23;
  --z-terrain: 30;
  --z-mountains: 31;
  --z-bathymetry: 32;
  --z-content: 40;
  --z-nav: 100;
  --z-theme-toggle: 1000;
  --z-floating-toc: 1002;
  --z-floating-toc-restore: 1003;
  --z-tooltips: 1006;
}

html[data-theme="dark"] {
  /* Dark theme colors */
  --outer-space-bg: linear-gradient(180deg, #000 0%, #0a0a0a 60%, #1a1a2e 85%, #16213e 100%);
  --atmosphere-bg: linear-gradient(
    180deg,
    rgba(22, 33, 62, 0) 0%,
    #16213e 10%,
    #1a1a2e 40%,
    #1f2a3e 80%,
    #253040 100%
  );
  --ocean-top-color: #0f2536; /* Dark ocean blue - matches SVG ocean color */
  --ocean-bg: linear-gradient(180deg, var(--ocean-top-color) 0%, #0c1426 100%);
  --crust-top-color: #3d2817; /* Dark brown - matches bathymetry SVG */
  --crust-bg: linear-gradient(180deg, var(--crust-top-color) 0%, #5a2c0a 50%, #4a2c2a 100%);
  --content-bg: rgba(26, 26, 46, 0.9);
  --content-text: #e0e0e0;
  --content-subtext: #b0b0b0;
  --nav-dot: rgba(224, 224, 224, 0.5);
  --nav-dot-active: #e0e0e0;
  --cloud-color: #4a4a6a;
  --star-color-1: #fff;
  --star-color-2: #eee;
  --star-color-3: #ddd;
  --body-bg: #000;

  /* Layer overlap distances inherit from :root */
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  overflow-x: hidden; /* Prevent horizontal scrolling, especially on mobile */
  /* Responsive root font size: scales from 16px on mobile to 18px on large screens */
  font-size: clamp(16px, 0.8vw + 14px, 18px);
}

body {
  font-family: Inter, sans-serif;
  font-optical-sizing: auto;
  font-feature-settings:
    "liga" 1,
    "calt" 1;
  overflow-x: hidden;
  transition: background-color 0.5s ease;
  background: var(--body-bg);
  min-height: 100vh;
}

.layer {
  position: relative;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  /* Let individual layers control their height and overflow */
  /* Removed: min-height and overflow declarations - layers should specify their own needs */
}

.content {
  position: relative;
  z-index: var(--z-content);
  text-align: center;
  background: var(--content-bg);
  padding: 2rem;
  border-radius: 10px;
  -webkit-backdrop-filter: blur(5px);
  backdrop-filter: blur(5px);
  /* Fluid max-width: grows from 600px on small screens to 1200px on large screens */
  max-width: clamp(600px, 85vw, 1200px);
  margin: 0 2rem;
  transition: background-color 0.5s ease;
}

.content h2 {
  font-size: 2.5rem;
  margin-bottom: 1rem;
  color: var(--content-text);
  transition: color 0.5s ease;
}

.content p {
  font-size: 1.1rem;
  line-height: 1.6;
  color: var(--content-subtext);
  transition: color 0.5s ease;
  margin-bottom: 1rem;
}

.content p:last-child {
  margin-bottom: 0;
}

/* Left-align text for the land section about me content */
#land .content p {
  text-align: left;
}

/* Use consistent blue color for links in about me section */
#land .content a,
#land .content a:visited {
  color: #3498db;
  text-decoration: none;
  transition: color 0.3s ease;
}

#land .content a:hover {
  text-decoration: underline;
}

/* Left-align text for the resources section content */
#resources .content {
  text-align: left;
}

/* Make ocean content wider to accommodate research layout */
#ocean .content {
  /* Fluid max-width: grows from 1000px to 1600px on very large screens */
  max-width: clamp(1000px, 90vw, 1600px);
  text-align: left;
}

/* Make resources content wider for publications and resources sections */
#resources .content {
  /* Fluid max-width: grows from 900px to 1400px on very large screens */
  max-width: clamp(900px, 85vw, 1400px);
}

#resources .content h2 {
  text-align: center;
  margin-bottom: 2rem;
}

#resources .content h3 {
  font-size: 1.4rem;
  margin: 1.5rem 0 0.5rem;
  color: var(--content-text);
  transition: color 0.5s ease;
}

#resources .content ul.indented-list {
  list-style: none;
  padding-left: 0;
  margin-bottom: 1.5rem;
}

#resources .content ul.indented-list li {
  margin-bottom: 0.8rem;
  padding-left: 1rem;
  position: relative;
  color: var(--content-text);
  transition: color 0.5s ease;
}

#resources .content ul.indented-list li::before {
  content: "â€¢";
  color: var(--content-text);
  position: absolute;
  left: 0;
  transition: color 0.5s ease;
}

#resources .content ul.indented-list ul.indented-list {
  margin-top: 0.5rem;
  padding-left: 1rem;
}

#resources .content a {
  color: #3498db;
  text-decoration: none;
  transition: color 0.3s ease;
}

/* Publications styling within resources section */
#resources .publications-content a {
  color: #3498db;
  text-decoration: none;
  transition: color 0.3s ease;
}

#resources .publications-content a:hover {
  text-decoration: underline;
}

#resources .content a:hover {
  text-decoration: underline;
}

/* Publications styling within resources section */
#resources .publications-content {
  text-align: left;
  margin-bottom: 3rem;
}

#resources .publications-content h2 {
  text-align: center;
  margin-bottom: 2rem;
}

#resources .publications-content ol.publications-list {
  list-style: decimal;
  padding-left: 2rem;
  margin-bottom: 1.5rem;
}

#resources .publications-content ol.publications-list li {
  margin-bottom: 1.5rem;
  line-height: 1.6;
  color: var(--content-text);
  transition: color 0.5s ease;
}

#resources .publications-content ol.publications-list li b {
  color: var(--content-text);
  transition: color 0.5s ease;
}

#resources .publications-content ol.publications-list li i {
  color: var(--content-subtext);
  transition: color 0.5s ease;
}

#resources .publications-content a.publication-button {
  display: inline-block;
  background: var(--nav-dot-active);
  color: var(--content-text);
  padding: 0.1rem 0.4rem;
  margin: 0.2rem 0.3rem 0.2rem 0;
  border-radius: 4px;
  border: 1px solid rgba(0, 0, 0, 0.15);
  text-decoration: none;
  font-size: 0.85rem;
  font-weight: bold;
  transition: all 0.3s ease;
}

#resources .publications-content a.publication-button:hover {
  background: var(--content-text);
  color: var(--content-bg);
  transform: translateY(-1px);
}

html[data-theme="dark"] #resources .publications-content a.publication-button {
  background: rgba(224, 224, 224, 0.15);
  color: var(--content-text);
  border: 1px solid rgba(224, 224, 224, 0.3);
}

html[data-theme="dark"] #resources .publications-content a.publication-button:hover {
  background: rgba(224, 224, 224, 0.25);
  border-color: rgba(224, 224, 224, 0.5);
}
